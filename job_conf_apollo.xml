<!-- Override the default planemo job_conf file to allow passing env vars to apollo tools -->
<!-- see https://github.com/galaxyproject/planemo-ci-action/issues/39 -->
<job_conf>
    <plugins>
        <plugin id="planemo_runner" type="runner" load="galaxy.jobs.runners.local:LocalJobRunner" workers="4"/>
    </plugins>
    <handlers>
    </handlers>
    <destinations default="planemo_dest">
        <destination id="planemo_dest" runner="planemo_runner">
            <param id="require_container">false</param>
            <param id="docker_enabled">true</param>
            <param id="docker_sudo">false</param>
            <param id="docker_sudo_cmd">sudo</param>
            <param id="docker_cmd">docker</param>
            <param id="docker_volumes">$defaults</param>
            <env id="APOLLO_REMOTE">${APOLLO_REMOTE}</env>
            <env id="BLAT_ENABLED">1</env>
            <env id="ARROW_GLOBAL_CONFIG_PATH">${ARROW_GLOBAL_CONFIG_PATH}</env>
            <env id="GALAXY_SHARED_DIR">${GALAXY_SHARED_DIR}</env>
        </destination>
        <destination id="upload_dest" runner="planemo_runner">
            <param id="docker_enabled">false</param>
        </destination>
    </destinations>
    <tools>
        <tool id="upload1" destination="upload_dest" />
    </tools>
</job_conf>
